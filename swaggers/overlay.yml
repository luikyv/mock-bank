overlay: 1.0.0
info:
  title: Overlay
  version: 0.0.0
strict: false
actions:
- target: $.components.schemas[*].properties.meta
  description: Set x-go-type and x-go-type-import for all fields named "meta"
  update:
    x-go-type: api.Meta
    x-go-type-import:
      path: github.com/luiky/mock-bank/internal/api
- target: $.components.schemas[*].properties.meta.$ref
  description: Remove $ref fields from meta properties to ensure the application of the custom x-go-type
  remove: true

- target: $.components.schemas[*].properties.links
  description: Set x-go-type and x-go-type-import for all fields named "links"
  update:
    x-go-type: api.Links
    x-go-type-import:
      path: github.com/luiky/mock-bank/internal/api
- target: $.components.schemas[*].properties.links.$ref
  description: Remove $ref fields from links properties to ensure the application of the custom x-go-type
  remove: true

- target: $..[*][?(@.format == "date")]
  update:
    x-go-type: timex.Date
    x-go-type-import:
      path: github.com/luiky/mock-bank/internal/timex

- target: $..[*][?(@.format == "date-time")]
  update:
    x-go-type: timex.DateTime
    x-go-type-import:
      path: github.com/luiky/mock-bank/internal/timex

- target: $.components.responses[*].headers.x-fapi-interaction-id
  description: Remove x-fapi-interaction-id header from all responses
  remove: true
